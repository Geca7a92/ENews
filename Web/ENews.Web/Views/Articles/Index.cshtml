@using ENews.Common
@model ENews.Web.ViewModels.Articles.ArticleViewModel
@{
    this.ViewData["Title"] = Model.Title;
}



<div class="blog-area section-padding-0-80">
    <div class="container">
        <div class="row">
            <div class="col-12 col-lg-8">
                <div class="blog-posts-area">

                    <!-- Single Featured Post -->
                    <div class="single-blog-post featured-post single-post">


                        <div class="post-thumb">
                            <img src="@Model.PictureImageUrl" style='height: 100%; width: 100%; object-fit: contain' />
                        </div>
                        @*<div class="post-thumb">
                                <a asp-area="" asp-controller="Articles" asp-action="Index" asp-route-id="@Model.Id"><img src="@Model.PictureImageUrl" alt=""></a>
                            </div>*@
                        <div class="post-data">
                            <a asp-area="" asp-controller="Categories" asp-action="Index" asp-route-name="@Model.CategoryTitle" class="post-catagory">@Model.CategoryTitle</a>
                            <h3 class="post-title">@Model.Title</h3>
                            <div class="post-meta">

                                <p class="post-author">
                                    By <a href="#">
                                        @if (Model.AuthorFirstName == null)
                                        {
                                            @Model.AuthorUserName
                                        }
                                        else
                                        {
                                            @Model.AuthorFullName
                                        }
                                    </a>
                                </p>
                                <p>
                                    @Html.Raw(Model.SanitizedContent)
                                </p>

                                <!-- Post Like & Post Comment -->

                                <div class="d-flex align-items-center post-like--comments">
                                    <i class="fa fa-eye text-muted fsize-3"></i> <span>@Model.SeenCount</span>
                                    <img class="post-comment" src="https://colorlib.com/preview/theme/newspaper/img/core-img/chat.png" alt=""> <span>@Model.CommentsCount</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- About Author -->
                    <div class="blog-post-author d-flex">
                        <div class="author-thumbnail">
                            @if (string.IsNullOrWhiteSpace(@Model.AuthorProfilePictureImageUrl))
                            {
                                <img src="@GlobalConstants.ProfilePictureFill" alt="">
                            }
                            else
                            {
                                <img src="@Model.AuthorProfilePictureImageUrl" alt="">
                            }
                        </div>
                        <div class="author-info">
                            @if (string.IsNullOrWhiteSpace(@Model.AuthorFirstName))
                            {
                                <a href="#" class="author-name">@Model.AuthorUserName, <span>The Author</span></a>

                            }
                            else
                            {
                                <a href="#" class="author-name">@Model.AuthorFullName, <span>The Author</span></a>
                            }
                            @if (string.IsNullOrWhiteSpace(@Model.AuthorBiography))
                            {
                                <p>Donec turpis erat, scelerisque id euismod sit amet, fermentum vel dolor. Nulla facilisi. Sed pellen tesque lectus et accu msan aliquam. Fusce lobortis cursus quam, id mattis sapien.</p>
                            }
                            else
                            {
                                <p>@Model.AuthorBiography</p>
                            }
                        </div>
                    </div>

                    <div class="pager d-flex align-items-center justify-content-between">
                        <div class="prev">
                            <a href="#" class="active"><i class="fa fa-angle-left"></i> previous</a>
                        </div>
                        <div class="next">
                            <a href="#">Next <i class="fa fa-angle-right"></i></a>
                        </div>
                    </div>

                    <div class="section-heading">
                        <h6>Related</h6>
                    </div>

                    <div class="row">
                        <!-- Single Post -->
                        <div class="col-12 col-md-6">
                            <div class="single-blog-post style-3 mb-80">
                                <div class="post-thumb">
                                    <a href="#"><img src="img/bg-img/12.jpg" alt=""></a>
                                </div>
                                <div class="post-data">
                                    <a href="#" class="post-catagory">Finance</a>
                                    <a href="#" class="post-title">
                                        <h6>Dolor sit amet, consectetur adipiscing elit. Nam eu metus sit amet odio sodales placer. Sed varius leo ac...</h6>
                                    </a>
                                    <div class="post-meta d-flex align-items-center">
                                        <a href="#" class="post-like"><img src="img/core-img/like.png" alt=""> <span>392</span></a>
                                        <a href="#" class="post-comment"><img src="img/core-img/chat.png" alt=""> <span>10</span></a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Single Post -->
                        <div class="col-12 col-md-6">
                            <div class="single-blog-post style-3 mb-80">
                                <div class="post-thumb">
                                    <a href="#"><img src="img/bg-img/13.jpg" alt=""></a>
                                </div>
                                <div class="post-data">
                                    <a href="#" class="post-catagory">Finance</a>
                                    <a href="#" class="post-title">
                                        <h6>Dolor sit amet, consectetur adipiscing elit. Nam eu metus sit amet odio sodales placer. Sed varius leo ac...</h6>
                                    </a>
                                    <div class="post-meta d-flex align-items-center">
                                        <a href="#" class="post-like"><img src="img/core-img/like.png" alt=""> <span>392</span></a>
                                        <a href="#" class="post-comment"><img src="img/core-img/chat.png" alt=""> <span>10</span></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Comment Area Start -->
                    <div class="comment_area clearfix">
                        <h5 class="title">3 Comments</h5>

                        <ol>
                            <!-- Single Comment Area -->
                            <li class="single_comment_area">
                                <!-- Comment Content -->
                                <div class="comment-content d-flex">
                                    <!-- Comment Author -->
                                    <div class="comment-author">
                                        <img src="img/bg-img/30.jpg" alt="author">
                                    </div>
                                    <!-- Comment Meta -->
                                    <div class="comment-meta">
                                        <a href="#" class="post-author">Christian Williams</a>
                                        <a href="#" class="post-date">April 15, 2018</a>
                                        <p>Donec turpis erat, scelerisque id euismod sit amet, fermentum vel dolor. Nulla facilisi. Sed pellen tesque lectus et accu msan aliquam. Fusce lobortis cursus quam, id mattis sapien.</p>
                                    </div>
                                </div>
                                <ol class="children">
                                    <li class="single_comment_area">
                                        <!-- Comment Content -->
                                        <div class="comment-content d-flex">
                                            <!-- Comment Author -->
                                            <div class="comment-author">
                                                <img src="img/bg-img/31.jpg" alt="author">
                                            </div>
                                            <!-- Comment Meta -->
                                            <div class="comment-meta">
                                                <a href="#" class="post-author">Sandy Doe</a>
                                                <a href="#" class="post-date">April 15, 2018</a>
                                                <p>Donec turpis erat, scelerisque id euismod sit amet, fermentum vel dolor. Nulla facilisi. Sed pellen tesque lectus et accu msan aliquam. Fusce lobortis cursus quam, id mattis sapien.</p>
                                            </div>
                                        </div>
                                    </li>
                                </ol>
                            </li>

                            <!-- Single Comment Area -->
                            <li class="single_comment_area">
                                <!-- Comment Content -->
                                <div class="comment-content d-flex">
                                    <!-- Comment Author -->
                                    <div class="comment-author">
                                        <img src="img/bg-img/32.jpg" alt="author">
                                    </div>
                                    <!-- Comment Meta -->
                                    <div class="comment-meta">
                                        <a href="#" class="post-author">Christian Williams</a>
                                        <a href="#" class="post-date">April 15, 2018</a>
                                        <p>Donec turpis erat, scelerisque id euismod sit amet, fermentum vel dolor. Nulla facilisi. Sed pellen tesque lectus et accu msan aliquam. Fusce lobortis cursus quam, id mattis sapien.</p>
                                    </div>
                                </div>
                            </li>
                        </ol>
                    </div>

                    <div class="post-a-comment-area section-padding-80-0">
                        <h4>Leave a comment</h4>

                        <!-- Reply Form -->
                        <div class="contact-form-area">
                            <form action="#" method="post">
                                <div class="row">
                                    
                                    <div class="col-12">
                                        <textarea name="message" class="form-control" id="message" cols="30" rows="10" placeholder="Message"></textarea>
                                    </div>
                                    <div class="col-12 text-center">
                                        <button class="btn newspaper-btn mt-30 w-100" type="submit">Submit Comment</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-lg-4">
                <div class="blog-sidebar-area">

                    <!-- Latest Posts Widget -->
                    <div class="latest-posts-widget mb-50">

                        <!-- Single Featured Post -->
                        <div class="single-blog-post small-featured-post d-flex">
                            <div class="post-thumb">
                                <a href="#"><img src="img/bg-img/19.jpg" alt=""></a>
                            </div>
                            <div class="post-data">
                                <a href="#" class="post-catagory">Finance</a>
                                <div class="post-meta">
                                    <a href="#" class="post-title">
                                        <h6>Pellentesque mattis arcu massa, nec fringilla turpis eleifend id.</h6>
                                    </a>
                                    <p class="post-date"><span>7:00 AM</span> | <span>April 14</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Single Featured Post -->
                        <div class="single-blog-post small-featured-post d-flex">
                            <div class="post-thumb">
                                <a href="#"><img src="img/bg-img/20.jpg" alt=""></a>
                            </div>
                            <div class="post-data">
                                <a href="#" class="post-catagory">Politics</a>
                                <div class="post-meta">
                                    <a href="#" class="post-title">
                                        <h6>Sed a elit euismod augue semper congue sit amet ac sapien.</h6>
                                    </a>
                                    <p class="post-date"><span>7:00 AM</span> | <span>April 14</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Single Featured Post -->
                        <div class="single-blog-post small-featured-post d-flex">
                            <div class="post-thumb">
                                <a href="#"><img src="img/bg-img/21.jpg" alt=""></a>
                            </div>
                            <div class="post-data">
                                <a href="#" class="post-catagory">Health</a>
                                <div class="post-meta">
                                    <a href="#" class="post-title">
                                        <h6>Pellentesque mattis arcu massa, nec fringilla turpis eleifend id.</h6>
                                    </a>
                                    <p class="post-date"><span>7:00 AM</span> | <span>April 14</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Single Featured Post -->
                        <div class="single-blog-post small-featured-post d-flex">
                            <div class="post-thumb">
                                <a href="#"><img src="img/bg-img/22.jpg" alt=""></a>
                            </div>
                            <div class="post-data">
                                <a href="#" class="post-catagory">Finance</a>
                                <div class="post-meta">
                                    <a href="#" class="post-title">
                                        <h6>Augue semper congue sit amet ac sapien. Fusce consequat.</h6>
                                    </a>
                                    <p class="post-date"><span>7:00 AM</span> | <span>April 14</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Single Featured Post -->
                        <div class="single-blog-post small-featured-post d-flex">
                            <div class="post-thumb">
                                <a href="#"><img src="img/bg-img/23.jpg" alt=""></a>
                            </div>
                            <div class="post-data">
                                <a href="#" class="post-catagory">Travel</a>
                                <div class="post-meta">
                                    <a href="#" class="post-title">
                                        <h6>Pellentesque mattis arcu massa, nec fringilla turpis eleifend id.</h6>
                                    </a>
                                    <p class="post-date"><span>7:00 AM</span> | <span>April 14</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- Single Featured Post -->
                        <div class="single-blog-post small-featured-post d-flex">
                            <div class="post-thumb">
                                <a href="#"><img src="img/bg-img/24.jpg" alt=""></a>
                            </div>
                            <div class="post-data">
                                <a href="#" class="post-catagory">Politics</a>
                                <div class="post-meta">
                                    <a href="#" class="post-title">
                                        <h6>Augue semper congue sit amet ac sapien. Fusce consequat.</h6>
                                    </a>
                                    <p class="post-date"><span>7:00 AM</span> | <span>April 14</span></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Popular News Widget -->
                    <div class="popular-news-widget mb-50">
                        <h3>4 Most Popular News</h3>

                        <!-- Single Popular Blog -->
                        <div class="single-popular-post">
                            <a href="#">
                                <h6><span>1.</span> Amet, consectetur adipiscing elit. Nam eu metus sit amet odio sodales.</h6>
                            </a>
                            <p>April 14, 2018</p>
                        </div>

                        <!-- Single Popular Blog -->
                        <div class="single-popular-post">
                            <a href="#">
                                <h6><span>2.</span> Consectetur adipiscing elit. Nam eu metus sit amet odio sodales placer.</h6>
                            </a>
                            <p>April 14, 2018</p>
                        </div>

                        <!-- Single Popular Blog -->
                        <div class="single-popular-post">
                            <a href="#">
                                <h6><span>3.</span> Adipiscing elit. Nam eu metus sit amet odio sodales placer. Sed varius leo.</h6>
                            </a>
                            <p>April 14, 2018</p>
                        </div>

                        <!-- Single Popular Blog -->
                        <div class="single-popular-post">
                            <a href="#">
                                <h6><span>4.</span> Eu metus sit amet odio sodales placer. Sed varius leo ac...</h6>
                            </a>
                            <p>April 14, 2018</p>
                        </div>
                    </div>

                    <!-- Newsletter Widget -->
                    <div class="newsletter-widget mb-50">
                        <h4>Newsletter</h4>
                        <p>Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                        <form action="#" method="post">
                            <input type="text" name="text" placeholder="Name">
                            <input type="email" name="email" placeholder="Email">
                            <button type="submit" class="btn w-100">Subscribe</button>
                        </form>
                    </div>

                    <!-- Latest Comments Widget -->
                    <div class="latest-comments-widget">
                        <h3>Latest Comments</h3>

                        <!-- Single Comments -->
                        <div class="single-comments d-flex">
                            <div class="comments-thumbnail mr-15">
                                <img src="img/bg-img/29.jpg" alt="">
                            </div>
                            <div class="comments-text">
                                <a href="#">Jamie Smith <span>on</span> Facebook is offering facial recognition...</a>
                                <p>06:34 am, April 14, 2018</p>
                            </div>
                        </div>

                        <!-- Single Comments -->
                        <div class="single-comments d-flex">
                            <div class="comments-thumbnail mr-15">
                                <img src="img/bg-img/30.jpg" alt="">
                            </div>
                            <div class="comments-text">
                                <a href="#">Jamie Smith <span>on</span> Facebook is offering facial recognition...</a>
                                <p>06:34 am, April 14, 2018</p>
                            </div>
                        </div>

                        <!-- Single Comments -->
                        <div class="single-comments d-flex">
                            <div class="comments-thumbnail mr-15">
                                <img src="img/bg-img/31.jpg" alt="">
                            </div>
                            <div class="comments-text">
                                <a href="#">Jamie Smith <span>on</span> Facebook is offering facial recognition...</a>
                                <p>06:34 am, April 14, 2018</p>
                            </div>
                        </div>

                        <!-- Single Comments -->
                        <div class="single-comments d-flex">
                            <div class="comments-thumbnail mr-15">
                                <img src="img/bg-img/32.jpg" alt="">
                            </div>
                            <div class="comments-text">
                                <a href="#">Jamie Smith <span>on</span> Facebook is offering facial recognition...</a>
                                <p>06:34 am, April 14, 2018</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>













@*<div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <div class="row p-md-3">
                    <div class="card flex-fill">
                        <div class="card-header">
                            <h3 class="text-center">
                                @Model.Title
                            </h3>
                        </div>
                        <div class="card-header">
                            <div class="media flex-wrap w-100 align-items-center">
                                @if (string.IsNullOrEmpty(Model.AuthorProfilePictureImageUrl))
                                {
                                    <img class="img-thumbnail rounded-circle" src="@GlobalConstants.ProfilePictureFill" style="width:110px;height:110px;">
                                }
                                else
                                {
                                    <img class="img-thumbnail rounded-circle" src="@Model.AuthorProfilePictureImageUrl" style="width:110px;height:110px;">

                                }
                                <div class="media-body ml-3">
                                    <a href="javascript:void(0)" data-abc="true">@Model.AuthorFullName</a>
                                    <div>Member since @Model.AuthorCreatedOn.ToString("dd/MM/yyyy")</div>
                                    <div><strong>@Model.AuthorArticlesCount</strong> articles</div>
                                </div>
                                <div class="text-muted ml-3 text-right">
                                    <div class="text-muted">@Model.CreatedOn</div>

                                    <div class="text-muted">
                                        <i class="fa fa-eye text-muted fsize-3">
                                        </i>&nbsp;<strong> @Model.SeenCount</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="media-body col-12 mb-2">
                                <div class="media-body mb-2">
                                    <img src="@Model.PictureImageUrl" style='height: 100%; width: 100%; object-fit: contain' />
                                </div>
                                @if (Model.GalleryId != null)
                                {
                                    <div class="col-12">
                                        <h4 class="text-center">
                                            <a asp-area="" asp-controller="Galleries" asp-action="Preview" asp-route-id="@Model.GalleryId" class="btn btn-primary">
                                                Go to gallery
                                            </a>
                                        </h4>
                                    </div>

                                }
                            </div>
                            <div class="text col-12 text-break">
                                @Html.Raw(Model.SanitizedContent)
                            </div>
                        </div>
                        <div class="card-footer d-flex flex-wrap justify-content-between align-items-center px-0 pt-0 pb-3">
                            <div class="px-4 pt-3">
                                <span class="align-middle">
                                    <strong>@Model.Comments.Count</strong> comments
                                </span>
                                <span class="text-muted d-inline-flex align-items-center align-middle ml-4">
                                </span>
                            </div>
                            @if (this.User.Identity.IsAuthenticated)
                            {
                                <div class="px-4 pt-3">
                                    <button type="button" class="btn btn-primary" onclick="showCommentForm()">Add Comment</button>
                                </div>
                            }
                        </div>
                        <div id="CommentForm" style="display: none">
                            <form asp-controller="Comment" asp-action="Create" method="post">
                                <input type="hidden" name="ArticleId" value="@this.Model.Id" />
                                <div id="commentTextBox" class="form-group">
                                    <textarea name="Content" id="Content" asp-for="@Model.CommentModel.Content" class="form-control"></textarea>
                                    <span asp-validation-for="@Model.CommentModel.Content" class="text-danger"></span>
                                </div>
                                <div>
                                    <input type="submit" class="btn btn-primary" value="Submit" />
                                </div>
                            </form>
                        </div>
                        <div class="m-4">
                            @foreach (var comment in Model.Comments.OrderByDescending(c => c.CreatedOn))
                            {
                                <ul class="media-list">
                                    <li class="media">
                                        @if (string.IsNullOrEmpty(comment.UserProfilePictureImageUrl))
                                        {
                                            <img class="img-thumbnail rounded" src="@GlobalConstants.ProfilePictureFill" style="width:110px;height:110px;">
                                        }
                                        else
                                        {
                                            <img class="img-thumbnail rounded" src="@comment.UserProfilePictureImageUrl" style="width:110px;height:110px;">

                                        }
                                        <div class="media-body p-1">
                                            <span class="text-muted pull-right">
                                                <small class="text-muted">@comment.CreatedOn</small>
                                            </span>
                                            <strong class="text-success">@comment.UserUserName</strong>
                                            <p>
                                                @comment.Content
                                            </p>
                                        </div>
                                    </li>
                                </ul>
                            }
                        </div>
                    </div>
                </div>
                <div class="row p-md-3">
                    <vc:lates-five-articles></vc:lates-five-articles>
                </div>
            </div>
            <div class="col-md-4">
                <div class="row pt-3 pb-2">
                    <vc:get-local-last-five-articles></vc:get-local-last-five-articles>
                </div>
                <div class="row">
                    <vc:latest-most-viewed-articles></vc:latest-most-viewed-articles>
                </div>
            </div>
        </div>
    </div>*@



@section Scripts{
    <script>
        function showCommentForm() {
            $("#CommentForm").show();
        }
    </script>
}